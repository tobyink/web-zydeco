<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="icon" href="/docs/4.0/assets/img/favicons/favicon.ico">
		<title>Zydeco :: Jazz up your Perl</title>
		<style type="text/css">
			/* @import url('https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap'); */
			pre b { color: #01cb1b }
			#samples li { cursor: pointer }
			header { position: relative }
			.arrow {
				text-align: center;
				margin: 8% 0;
				position: absolute;
				bottom: 0;
				left: 0;
				width: 100%;
			}
			.bounce {
				-moz-animation: bounce 2s infinite;
				-webkit-animation: bounce 2s infinite;
				animation: bounce 2s infinite;
			}
			@keyframes bounce {
				0%, 20%, 50%, 80%, 100% {
					transform: translateY(0);
				}
				40% {
					transform: translateY(-30px);
				}
				60% {
					transform: translateY(-15px);
				}
			}
			@media (min-width: 768px) {
				#bg-img-first {
					color: white;
					background: black url('/assets/img/kelly-sikkema-YK0HPwWDJ1I-unsplash.jpg') no-repeat scroll top center;
					background-size: cover;
				}
				#bg-img-second {
					color: white;
					background: black url('/assets/img/fernando-hernandez-8Facxtxqojc-unsplash.jpg') no-repeat scroll center center;
					background-size: cover;
				}
				.bg-img .bg-img-card {
					background: white;
					color: #333;
					opacity: 90%;
					padding: 1rem;
					margin-top: 3rem;
					margin-bottom: 3rem;
					-webkit-box-shadow: 0px 0px 15px 0px rgba(64,53,64,1);
					-moz-box-shadow: 0px 0px 15px 0px rgba(64,53,64,1);
					box-shadow: 0px 0px 15px 0px rgba(64,53,64,1);
				}
			}
			@media (min-width: 1200px) {
				.bg-img .bg-img-card {
					width: 50%;
				}
				.bg-img .bg-img-card pre {
					font-size: 90%;
				}
			}
		</style>
		<link href="assets/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
		<script src="https://code.jquery.com/jquery-3.3.1.min.js" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
		<script type="text/javascript">
			(function ($) {
				$(function () {
					$("a").on('click', function(event) {
						if (this.hash !== "") {
							event.preventDefault();
							var hash = this.hash;
							$('html, body').animate({
								scrollTop: $(hash).offset().top
							}, 800, function(){
								window.location.hash = hash;
							});
						}
					});
				});
			})(jQuery);
		</script>
	</head>
	
  <body>
		<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
			<a class="navbar-brand" href="/">Zydeco</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarsExampleDefault">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item">
						<a class="nav-link" href="https://metacpan.org/release/Zydeco">Metacpan <i class="fa fa-external-link" aria-hidden="true"></i></a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="https://rt.cpan.org/Dist/Display.html?Queue=Zydeco">Issues <i class="fa fa-external-link" aria-hidden="true"></i></a>
					</li>
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Development Links</a>
						<div class="dropdown-menu" aria-labelledby="dropdown01">
							<a class="dropdown-item" href="https://github.com/tobyink/p5-zydeco">GitHub <i class="fa fa-external-link" aria-hidden="true"></i></a>
							<a class="dropdown-item" href="https://travis-ci.org/tobyink/p5-zydeco">Travis-CI <i class="fa fa-external-link" aria-hidden="true"></i></a>
						</div>
					</li>
				</ul>
			</div>
		</nav>
		
		<header class="p-0 m-0 w-100">
			<h1 class="p-0 m-0 w-100"><img src="assets/img/Zy.jpeg" alt="Zydeco :: Jazz up your Perl" class="w-100"></h1>
			<div class="arrow bounce d-none d-lg-block">
				<a class="fa fa-arrow-down fa-2x" href="#main"></a>
			</div>
		</header>
		
		<section role="main" class="container py-5" id="main">
			<div class="row">
				<div class="col-lg-6">
					<p class="h3 pb-4 pt-1">Zydeco is a Perl module to jazz up your object-oriented programming. It fuses together:</p>
					<ul class="list-group" id="samples">
						<li class="list-group-item" data-code="#code-classes">Classes, roles, and interfaces, including parameterizable classes and roles (a.k.a. class generators and role generators).<div class="placeholder d-none"></div>
						<li class="list-group-item" data-code="#code-factories">Factories to help your objects make other objects.<div class="placeholder d-none"></div>
						<li class="list-group-item" data-code="#code-attributes">Powerful and concise attribute definitions.<div class="placeholder d-none"></div>
						<li class="list-group-item" data-code="#code-methods">Methods with signatures, type constraints, and coercion.<div class="placeholder d-none"></div>
						<li class="list-group-item" data-code="#code-methodmodifiers">Method modifiers to easily wrap or override inherited methods.<div class="placeholder d-none"></div>
						<li class="list-group-item" data-code="#code-multimethods">Multimethods.<div class="placeholder d-none"></div>
						<li class="list-group-item" data-code="#code-delegation">Powerful delegation features.<div class="placeholder d-none"></div>
						<li class="list-group-item" data-code="#code-privacy">True private methods and attributes.<div class="placeholder d-none"></div>
						<li class="list-group-item" data-code="#code-sugar">Syntactic sugar as sweet as pecan pie.<div class="placeholder d-none"></div>
					</ul>
				</div>
				<div class="col-lg-6 d-none d-lg-block card bg-light p-3" id="sample-col"><pre id="code" style="font-size:80%"></pre></div>
			</div>
			<script type="text/javascript">
				(function ($) {
					$(function () {
						$('#samples li').click(function () {
							$('#samples li').removeClass('bg-primary');
							$(this).addClass('bg-primary');
							$('#code').html($( $(this).attr('data-code') ).html());
							
							var $other_p = $('#samples li div.placeholder');
							$other_p.empty();
							$other_p.removeClass('card');
							$other_p.removeClass('my-3');
							$other_p.removeClass('p-3');
							$other_p.removeClass('bg-light');
							$other_p.removeClass('d-lg-none');
							$other_p.addClass('d-none');
							
							var $p = $(this).children('div.placeholder');
							var $clone = $('#code').clone();
							$clone.attr('id', 'codeclone');
							$p.append($clone);
							$p.addClass('card');
							$p.addClass('my-3');
							$p.addClass('p-3');
							$p.addClass('bg-light');
							$p.addClass('d-lg-none');
							$p.removeClass('d-none');
						});
						$('#samples li:first').click();
					});
				})(jQuery);
			</script>
		</section>
		
		<div class="bg-secondary">
			<section role="aside" class="text-center container py-5">
				<div class="h1 my-5"><i class="fa fa-cogs fa-2x"></i></div>
				<h2 class="h1 my-5">Zydeco is built on stable technology *</h2>
				<p class="m-3 h3">Perl 5.14</p>
				<p class="m-3 h3">Moo 2</p>
				<p class="m-3 h3">Type::Tiny 1.10</p>
				<p class="m-5">* with maybe just a little insanity thrown in</p>
			</section>
		</div>
		
		<div class="bg-img" id="bg-img-first">
			<section role="aside" class="container py-5">
				<div class="bg-img-card">
					<h2>Do more with less code</h1>
					<pre>
<b>use Zydeco;</b>

class Animal {
  has name;
  class Mammal {
    class Primate {
      class Monkey;
      class Gorilla;
      class Human {
        class Superhuman;
      }
    }
  }
  class Bird;
  class Fish {
    class Shark;
  }
}
 
my $superman = MyApp->new_superhuman( name => 'Kal El' );
</pre>
				</div>
			</section>
		</div>
		
		<div class="bg-secondary">
			<section role="aside" class="text-center container py-5">
				<h2 class="h1 my-5">Object-oriented concepts way beyond Java</h2>
				<div class="row">
					<div class="col-lg-4">
						<div class="h3 fa fa-2x fa-superpowers py-3"></div>
						<h3 class="py-3">Roles</h3>
						<p>Role-oriented programming as a form of computer programming aims at expressing things in terms that are analogous to human conceptual understanding of the World. This should make programs easier to understand and maintain.</p>
						<p><a style="color:black;text-decoration:underline" href="https://en.wikipedia.org/wiki/Role-oriented_programming">Read more…</a></p>
					</div>
					<div class="col-lg-4">
						<div class="h3 fa fa-2x fa-superpowers py-3"></div>
						<h3 class="py-3">Multimethods</h3>
						<p>Multiple dispatch or multimethods is a feature of some programming languages in which a function or method can be dynamically dispatched based on the run time (dynamic) type or, in the more general case, some other attribute of more than one of its arguments.</p>
						<p><a style="color:black;text-decoration:underline" href="https://en.wikipedia.org/wiki/Multiple_dispatch">Read more…</a></p>
					</div>
					<div class="col-lg-4">
						<div class="h3 fa fa-2x fa-superpowers py-3"></div>
						<h3 class="py-3">Type coercion</h3>
						<p>Pass a string to a method that expects a Person object? Not a problem, as long as the Person class provides a method to coerce a string into a Person.</p>
						<p><a style="color:black;text-decoration:underline" href="https://en.wikipedia.org/wiki/Type_conversion">Read more…</a></p>
					</div>
				</div>
			</section>
		</div>
		
		<div class="bg-img" id="bg-img-second">
			<section role="aside" class="container py-5">
				<div class="bg-img-card">
					<h2>Better code reuse with roles</h1>
					<pre>
<b>use Zydeco;</b>

role Payable {
  requires account;
  method deposit (Num $amount) {
    my $connection = $self->account->bank->connect( ... );
    $connection->transfer_funds($amount);
  }
}
 
class Employee extends Person with Payable {
  has account;
}
</pre>
				</div>
			</section>
		</div>
		
		<div class="text-secondary bg-dark">
			<div class="containter text-center py-5">
				<div class="h3 pt-5 pb-2"><a class="fa fa-2x fa-download text-secondary" href="https://metacpan.org/release/Zydeco"></a></div>
				<p class="h1 pb-5 pt-0 px-3"><a class="text-secondary" href="https://metacpan.org/release/Zydeco">Download Zydeco from Metacpan</a>.</p>
			</div>
		</div>
		
		<div class="container d-none">
			<hr>
<h2>Source Code Samples</h2>
<pre id="code-classes">package MyApp {
  <b>use Zydeco;</b>
  
  <b>interface</b> Iface::Named {
    <b>requires</b> name;
  }
  
  <b>class</b> Animal {
    with Iface::Named;
    has name;
  }
   
  <b>role</b> Species ( Str $common_name, Str $binomial ) {
    constant common_name  = $common_name;
    constant binomial     = $binomial;
  }
   
  <b>class</b> Dog {
    <b>extends</b> Animal;
    <b>with</b> Species('dog', 'Canis familiaris');
    
    method bark () {
      say "woof!";
    }
  }
}

my $fido = MyApp->new_dog(name => "Fido");
print $fido->name, "\n" if $fido->does('MyApp::Iface::Named');
$fido->bark();</pre>
<pre id="code-factories">package MyApp {
  <b>use Zydeco;</b>
   
  class Person {
    has name   ( type => Str, required => true );
    has gender ( type => Str );
     
    <b>factory</b> new_man (Str $name) {
      return $class->new(name => $name, gender => 'male');
    }
     
    <b>factory</b> new_woman (Str $name) {
      return $class->new(name => $name, gender => 'female');
    }
     
    method greet (Person *friend, Str *greeting = "Hello") {
      printf(
        "%s, %s!\n",
        $arg->greeting,
        $arg->friend->name
      );
    }
  }
}

my $alice = MyApp->new_woman("Alice");
my $bob   = MyApp->new_man("Robert");

$alice->greet(friend => $bob);</pre>
<pre id="code-attributes">package MyApp {
  <b>use Zydeco;</b>
   
  class Person {
    <b>has</b> name<b>!</b>    (type => Str);
    <b>has</b> age      (type => Int) = 0;
    <b>has</b> status   (
      enum        => ['alive', 'dead'],
      handles     => 1,
      default     => 'alive',
    );
    <b>has</b> children (
      is          => private,
      default     => sub { [] },
      handles_via => 'Array',
      handles     => { add_child => 'push', all_children => 'all' },
    );
  }
}

my $bob = MyApp->new_person(name => "Robert", age => 30);
$bob->is_dead;     # ==> false
$bob->add_child(
  MyApp->new_person(name => "Eve")
);</pre>
<pre id="code-methods">package MyApp {
  <b>use Zydeco;</b>
  use DateTime;
   
  class Person {
    has name, spouse;
     
    <b>coerce</b> from Str via from_string {
      return $class->new(name => $_);
    }
     
    <b>method</b> marry (Person *partner, Object *date = DateTime->now) {
      $self->spouse( $arg->partner );
      $arg->partner->spouse( $self );
      return $self;
    }
  }
}

use MyApp::Types qw( is_Person );

my $alice = MyApp->new_person(name => "Alice");
$alice->marry(partner => "Bob");
is_Person($alice->spouse);    # ==> true</pre>
<pre id="code-methodmodifiers">package MyApp {
  <b>use Zydeco;</b>
   
  class Person {
    ...;
    
    <b>before</b> marry {
      say "Speak now or forever hold your peace!";
    }
    
    <b>after</b> marry {
      say "You may kiss the bride!";
    }
  }
}</pre>
<pre id="code-multimethods">package MyApp {
  <b>use Zydeco;</b>
   
  class JSON::Encoder {
    <b>multi method</b> stringify (Undef $value) {
      'null';
    }
    <b>multi method</b> stringify (ScalarRef[Bool] $value) {
      $$value ? 'true' : 'false';
    }
    <b>multi method</b> stringify (Num $value) {
      $value;
    }
    <b>multi method</b> stringify <b>:alias</b>(quote_str) (Str $value)  {
      sprintf(q&lt;"%s">, quotemeta $value);
    }
    <b>multi method</b> stringify (ArrayRef $arr) {
      sprintf(
        q&lt;[%s]>,
        join(q&lt;,>, map($self->stringify($_), @$arr))
      );
    }
    <b>multi method</b> stringify (HashRef $hash) {
      sprintf(
        q&lt;{%s}>,
        join(
          q&lt;,>,
          map sprintf(
            q&lt;%s:%s>,
            $self->quote_str($_),
            $self->stringify($hash->{$_}),
          ), sort keys %$hash
        ),
      );
    }
  }
}</pre>
<pre id="code-delegation">package MyApp {
  <b>use Zydeco;</b>
  use HTTP::Tiny;
  
  class JSON::Uploader extends JSON::Encoder {
    has ua (
      is      => lazy,
      default => sub { HTTP::Tiny->new },
      <b>handles</b> => {
        'http_post' => 'post',
      },
    );
    
    method req ($data) {
      my %http_request = (
        content => $self->stringify($data),
        headers => { 'Content-Type' => 'application/json' },
      );
      return \%http_request;
    }
    
    method post_data ($data, Str $url) {
      my $response = $self->http_post($url, $self->req($data));
      $response->{success} or confess('HTTP error');
      return $response->{content};
    }
  }
}</pre>
<pre id="code-privacy">package MyApp {
  <b>use Zydeco;</b>
  use HTTP::Tiny;
  
  class JSON::Uploader extends JSON::Encoder {
    <b>has</b> ua (
      is      => <b>private</b>,
      default => sub { HTTP::Tiny->new },
      handles => [
        \$http_post => 'post',
      ],
    );
    
    <b>method</b> $req ($data) {
      my %http_request = (
        content => $self->stringify($data),
        headers => { 'Content-Type' => 'application/json' },
      );
      return \%http_request;
    }
    
    method post_data ($data, Str $url) {
      my $response = $self->$http_post($url, $self->$req($data));
      $response->{success} or confess('HTTP error');
      return $response->{content};
    }
  }
}</pre>

<pre id="code-sugar">package MyApp {
  <b>use Zydeco;</b>
  class Person {
    has name = "Anonymous";
  }
}

# Equivalent with Moose...

package MyApp {
  sub new_person {
    my $factory = shift;
    "MyApp::Person"->new(@_);
  }
}

package MyApp::Person {
  use Moose;
  use namespace::autoclean;
  use constant FACTORY => "MyApp";
  has name (is => "rw", default => "Anonymous");
}

package MyApp::Types {
  use MooseX::Types -declare => ["Person"];
  use namespace::autoclean;
  class_type Person, { class => "MyApp::Person" };
}</pre>

		</div>
	</body>
</html>
